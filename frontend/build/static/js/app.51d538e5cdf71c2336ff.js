webpackJsonp([1],{NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r("7+uW"),o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]},a=r("VU/8")({name:"App"},o,!1,null,null,null).exports,n=r("/ocq"),l=r("mtWM"),i=r.n(l),u=function(e){return i.a.post("/api/sessions",e)},m=function(e){return i.a.post("/api/users",e)},c=(r("spwX"),{data:function(){return{ruleForm:{userName:"",password:""},rules:{userName:[{required:!0,message:"请输入用户名",trigger:"onsubmit"}],password:[{required:!0,message:"请输入密码",trigger:"onsubmit"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){e&&u({username:t.ruleForm.userName,password:t.ruleForm.password}).then(function(e){var r=e.status,s=e.headers;201===r?(t.$router.push("/dashboard"),axios.default.headers.Authorization=s.Authorization):t.$notify({title:"错误",message:"服务器连接失败，请稍后...",type:"error"})}).catch(function(e){if(void 0===e.response)t.$notify({title:"错误",message:"服务器连接失败，请检查网络连接...",type:"error"});else switch(e.response.status){case 404:t.$notify({title:"错误",message:"找不到资源，请确认...",type:"error"});break;case 400:t.$notify({title:"错误",message:"用户名/密码错误，请重新输入！",type:"error"});break;default:t.$notify({title:"错误",message:"服务器连接失败，请稍后...",type:"error"})}})})}}}),p={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form-container"},[r("div",{staticClass:"form"},[e._m(0),e._v(" "),r("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"65px","label-position":"top"}},[r("el-form-item",{attrs:{label:"账号",prop:"userName"}},[r("el-col",[r("el-input",{model:{value:e.ruleForm.userName,callback:function(t){e.$set(e.ruleForm,"userName",t)},expression:"ruleForm.userName"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"密码：",prop:"password"}},[r("el-col",[r("el-input",{attrs:{type:"password"},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1)],1),e._v(" "),r("el-form-item",[r("el-row",{attrs:{type:"flex",justify:"center"}},[r("button",{staticClass:"button",on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("登入")])])],1),e._v(" "),r("el-form-item",[r("el-row",{attrs:{type:"flex",justify:"center"}},[r("router-link",{staticStyle:{color:"#666666"},attrs:{to:"/signup"}},[e._v("新用户注册")])],1)],1)],1)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header"},[t("img",{attrs:{src:"/static/img/fill.svg",alt:"logo"}}),this._v(" "),t("div",{staticClass:"title"},[t("div",{staticClass:"main"},[this._v("\n          思沃学院\n        ")]),this._v(" "),t("div",{staticClass:"desc"},[this._v("\n          线上学习系统\n        ")])])])}]},d=r("VU/8")(c,p,!1,null,null,null).exports,f={data:function(){var e=this;return{ruleForm:{userName:"",password:"",password2:""},rules:{userName:[{validator:function(e,t,r){""===t?r(new Error("请输入账号")):r()},trigger:"onsubmit"}],password:[{validator:function(t,r,s){""===r?s(new Error("请输入密码")):r.length<6?s(new Error("密码不可少于6位")):(""!==e.ruleForm.password2&&e.$refs.ruleForm.validateField("password2"),s())},trigger:"onsubmit"}],password2:[{validator:function(t,r,s){""===r?s(new Error("请再次输入密码")):r!==e.ruleForm.password?s(new Error("两次输入密码不一致!")):s()},trigger:"onsubmit"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){e&&m({username:t.ruleForm.userName,password:t.ruleForm.password}).then(function(e){201===e.status&&(t.$router.push("/"),t.$notify({title:"成功",message:"注册成功，请登录...",type:"success"}))}).catch(function(e){if(void 0===e.response)t.$notify({title:"错误",message:"服务器连接失败，请检查网络连接...",type:"error"});else switch(e.response.status){case 404:t.$notify({title:"错误",message:"找不到资源，请确认...",type:"error"});break;case 400:t.$notify({title:"错误",message:"用户名已存在，请重新输入...",type:"error"});break;default:t.$notify({title:"错误",message:"服务器连接失败，请稍后...",type:"error"})}})})},back:function(){this.$router.push("/")}}},v={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form-container"},[r("div",{staticClass:"form"},[r("div",{staticStyle:{height:"130px"}},[r("div",{staticStyle:{margin:"32px","font-size":"32px",color:"#999999",cursor:"pointer"},on:{click:e.back}},[e._v("<")])]),e._v(" "),r("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"65px","label-position":"top"}},[r("el-form-item",{attrs:{label:"用户名：",prop:"userName"}},[r("el-col",[r("el-input",{model:{value:e.ruleForm.userName,callback:function(t){e.$set(e.ruleForm,"userName",t)},expression:"ruleForm.userName"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"密码：",prop:"password"}},[r("el-col",[r("el-input",{attrs:{type:"password"},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"确认密码：",prop:"password2"}},[r("el-col",[r("el-input",{attrs:{type:"password"},model:{value:e.ruleForm.password2,callback:function(t){e.$set(e.ruleForm,"password2",t)},expression:"ruleForm.password2"}})],1)],1),e._v(" "),r("el-form-item",[r("el-row",{attrs:{type:"flex",justify:"center"}},[r("button",{staticClass:"button",on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("注册")])])],1)],1)],1)])},staticRenderFns:[]},h=r("VU/8")(f,v,!1,null,null,null).exports,w={render:function(){var e=this.$createElement;return(this._self._c||e)("el-info",{attrs:{title:"Welcome",type:"info",description:"Stay tuned. Something awesome is coming～","show-icon":""}})},staticRenderFns:[]},b=r("VU/8")({name:"Dashboard"},w,!1,null,null,null).exports;s.default.use(n.a);var F=new n.a({routes:[{path:"/",name:"SignIn",component:d},{path:"/signup",name:"SignUp",component:h},{path:"/dashboard",name:"Dashboard",component:b}]}),g=r("NYxO"),y=r("zL8q"),_=r.n(y);r("tvR6"),r("h5AK");s.default.use(_.a),s.default.use(g.a);var $=new g.a.Store({state:{user:{userName:"",token:""}}});s.default.config.productionTip=!1,new s.default({el:"#app",router:F,store:$,components:{App:a},template:"<App/>"})},h5AK:function(e,t){},spwX:function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.51d538e5cdf71c2336ff.js.map